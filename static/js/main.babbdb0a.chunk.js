(this.webpackJsonpfirebase_test=this.webpackJsonpfirebase_test||[]).push([[0],{38:function(e,t,a){},39:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var s=a(3),i=a(4),n=a.n(i),c=a(31),o=a.n(c),r=(a(38),a(19)),l=a(8),u=(a(39),a(24)),d=a(17),m=a(18),p=a(21),h=a(20),b=a(11),j=a.p+"static/media/stopwatch.9c85c92a.png",g=(a(43),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={desktopTime:0,mobileTime:0,isMobile:e.props.isMobile,mobileIntervalId:null,desktopIntervalId:null,isAuth:!0},e.startTimer=function(){var t=null,a=null;e.state.isMobile?t=setInterval((function(){e.setState({mobileTime:e.state.mobileTime+1,mobileIntervalId:t})}),1e3):a=setInterval((function(){e.setState({desktopTime:e.state.desktopTime+1,desktopIntervalId:a})}),1e3)},e.formatTime=function(e){var t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60);return"".concat(t<10?"0"+t:t,":").concat(a<10?"0"+a:a,":").concat(s<10?"0"+s:s)},e.onLogout=function(){console.log(e.state),e.state.isMobile?(clearInterval(e.state.mobileIntervalId),e.setState({isAuth:!1})):(clearInterval(e.state.desktopIntervalId),e.setState({isAuth:!1}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=b.a.auth().currentUser.uid;b.a.database().ref("users/"+t).on("value",(function(t){e.setState({desktopTime:t.val().desktopTime,mobileTime:t.val().mobileTime})})),this.startTimer()}},{key:"componentDidUpdate",value:function(){var e=b.a.auth().currentUser.uid;b.a.database().ref("users/"+e).update({mobileTime:this.state.mobileTime,desktopTime:this.state.desktopTime})}},{key:"render",value:function(){var e=this.state,t=e.desktopTime,a=e.mobileTime,i=e.isAuth,n=e.isMobile?"mobile":"desktop";return Object(s.jsx)("div",{children:i?Object(s.jsxs)("div",{className:"timer-wrapper-".concat(n),children:[Object(s.jsx)("button",{className:"timer-logout-".concat(n),type:"button",onClick:this.onLogout,children:"Log out"}),Object(s.jsxs)("div",{className:"timer-count-wrapper",children:[Object(s.jsx)("div",{className:"timer-count-".concat(n),children:"Desktop"}),Object(s.jsx)("div",{className:"timer-logo-container-".concat(n),children:Object(s.jsx)("img",{className:"timer-logo-".concat(n),src:j,alt:"Stopwacth"})}),Object(s.jsx)("div",{className:"timer-count-".concat(n),children:this.formatTime(t)})]}),Object(s.jsxs)("div",{className:"timer-count-wrapper",children:[Object(s.jsx)("div",{className:"timer-count-".concat(n),children:"Mobile"}),Object(s.jsx)("div",{className:"timer-logo-container-".concat(n),children:Object(s.jsx)("img",{className:"timer-logo-".concat(n),src:j,alt:"Stopwacth"})}),Object(s.jsx)("div",{className:"timer-count-".concat(n),children:this.formatTime(a)})]})]}):Object(s.jsx)(v,{})})}}]),a}(n.a.Component)),v=(a(44),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:"",isAuth:!1,isMobile:e.props.isMobile},e.onInputChange=function(t){var a=t.target,s=a.id,i=a.value;e.setState(Object(u.a)({},s,i))},e.onLogin=function(){var t=e.state,a=t.email,s=t.password;b.a.auth().signInWithEmailAndPassword(a,s).then((function(t){t&&e.setState({isAuth:!0})})).catch((function(e){return console.log(e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.isMobile?"mobile":"desktop";return Object(s.jsx)("div",{className:"login-wrapper",children:t?Object(s.jsx)(g,{isMobile:this.props.isMobile}):Object(s.jsxs)("div",{className:"login-form ".concat(a),children:[Object(s.jsx)("div",{className:"login-header",children:"Login"}),Object(s.jsx)("input",{className:"login-input-".concat(a),id:"email",type:"email",value:this.state.email,placeholder:"Email",onChange:this.onInputChange}),Object(s.jsx)("input",{className:"login-input-".concat(a),id:"password",type:"password",value:this.state.password,placeholder:"Password",onChange:this.onInputChange}),Object(s.jsx)("div",{className:"login-button-wrapper-".concat(a),children:Object(s.jsx)("button",{className:"login-button-".concat(a),type:"submit",onClick:this.onLogin,children:"Login"})}),Object(s.jsx)("div",{className:"login-redirect ".concat(a),children:Object(s.jsxs)(r.b,{to:"/register",children:["Don`t have an account yet? ",Object(s.jsx)("span",{children:"Register"})]})})]})})}}]),a}(n.a.Component)),f=(a(49),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={firstName:"",lastName:"",email:"",password:"",isAuth:!1,isMobile:e.props.isMobile},e.onInputChange=function(t){var a=t.target,s=a.id,i=a.value;e.setState(Object(u.a)({},s,i))},e.onRegister=function(){var t=e.state,a=t.email,s=t.password,i=t.firstName,n=t.lastName;b.a.auth().createUserWithEmailAndPassword(a,s).then((function(){var t=b.a.auth().currentUser.uid;b.a.database().ref("users/"+t).set({firstName:i,lastName:n,desktopTime:0,mobileTime:0}),e.setState({isAuth:!0})})).catch((function(e){return console.log(e)}))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isAuth,a=e.isMobile?"mobile":"desktop";return Object(s.jsx)("div",{className:"register-wrapper",children:t?Object(s.jsx)(v,{}):Object(s.jsxs)("div",{className:"register-form ".concat(a),children:[Object(s.jsx)("div",{className:"register-header",children:"Register"}),Object(s.jsx)("input",{id:"firstName",type:"text",value:this.state.firstName,placeholder:"First Name",onChange:this.onInputChange,className:"register-input-".concat(a)}),Object(s.jsx)("input",{id:"lastName",type:"text",value:this.state.lastName,placeholder:"Last Name",onChange:this.onInputChange,className:"register-input-".concat(a)}),Object(s.jsx)("input",{id:"email",type:"email",value:this.state.email,placeholder:"Email",onChange:this.onInputChange,className:"register-input-".concat(a)}),Object(s.jsx)("input",{id:"password",type:"password",value:this.state.password,placeholder:"Password",onChange:this.onInputChange,className:"register-input-".concat(a)}),Object(s.jsx)("div",{className:"register-button-wrapper-".concat(a),children:Object(s.jsx)("button",{className:"register-button-".concat(a),type:"submit",onClick:this.onRegister,children:"Sign up"})}),Object(s.jsx)("div",{className:"register-redirect ".concat(a),children:Object(s.jsxs)(r.b,{to:"/login",children:["Already registered? ",Object(s.jsx)("span",{children:"Log in"})]})})]})})}}]),a}(n.a.Component)),O=window.innerWidth<600,x=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(r.a,{children:[Object(s.jsx)(l.a,{path:"/register",render:function(){return Object(s.jsx)(f,{isMobile:O})}}),Object(s.jsx)(l.a,{path:"/login",render:function(){return Object(s.jsx)(v,{isMobile:O})}}),Object(s.jsx)(l.a,{exact:!0,path:"/",render:function(){return Object(s.jsx)(v,{isMobile:O})}})]})})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,51)).then((function(t){var a=t.getCLS,s=t.getFID,i=t.getFCP,n=t.getLCP,c=t.getTTFB;a(e),s(e),i(e),n(e),c(e)}))};b.a.initializeApp({apiKey:"AIzaSyAezqBb5QeeN4k6Prd8MFukNR_qqJ3rAr8",authDomain:"fir-test-e1e26.firebaseapp.com",databaseURL:"https://fir-test-e1e26-default-rtdb.firebaseio.com",projectId:"fir-test-e1e26",storageBucket:"fir-test-e1e26.appspot.com",messagingSenderId:"971799009249",appId:"1:971799009249:web:03d899434899aae569a4a0"}),o.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),N()}},[[50,1,2]]]);
//# sourceMappingURL=main.babbdb0a.chunk.js.map